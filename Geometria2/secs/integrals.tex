Se $f:[a, b] \longrightarrow \mathbb{C}$ è continua, poniamo $\displaystyle \int_a^b f(t)\diff t=\int_a^b \mathfrak{Re}(f(t))\diff t+i\int_a^b \mathfrak{Im}(f(t))\diff t$.

\begin{defn}
  Sia $D$ dominio aperto connesso di $\mathbb{C}$ e sia $\omega$ una $1$-forma differenziale complessa su $D$ fissata. Se $\gamma:[a, b] \longrightarrow D$ è un cammino $C^1$, definiamo $\displaystyle \int_{\gamma} \omega:=\int_a^b \omega_{\gamma(t)}(\gamma'(t))\diff t$, dove se $\gamma(t)=(x(t), y(t))=x(t)+iy(t)$, allora $\gamma'(t)=x'(t)+iy'(t)=(x'(t), y'(t))$.
\end{defn}

\begin{oss}
  Se $\omega=P\diff x+Q\diff y$, $\omega_{\gamma(t)}(\gamma'(t))=P(\gamma(t))\diff x(\gamma'(t))+Q(\gamma(t))\diff y(\gamma'(t))=P(\gamma(t))x'(t)+Q(\gamma(t))y'(t)$ è funzione continua di $t$ (perché $\gamma$ è $C^1$), dunque integrabile.
\end{oss}

\begin{ex}
  Siano $D=\mathbb{C}^*=\mathbb{C}\setminus\{0\}$, $\omega=\dfrac{1}{z}\diff z$, $\gamma:[0, 1] \longrightarrow \mathbb{C}^*, \gamma(t)=e^{2\pi i t}=\cos{2\pi t}+i\sin{2\pi t}$.
  $\gamma$ è un loop con punto iniziale e finale $1 \in \mathbb{C}^*$. Vogliamo calcolare $\displaystyle \int_{\gamma} \omega$. Ricordiamo che $\diff z=\diff x+i\diff y$, cioè è l'identità di $\mathbb{C}$ ($\diff z(a+ib)=(\diff x+i\diff y)(a+ib)=\diff x(a+ib)+i\diff y(a+ib)=a+ib$). Inoltre $\gamma'(t)=2\pi ie^{2\pi it}=2\pi i\gamma(t)$ (convincersene).
  Dunque $\omega_{\gamma(t)}(\gamma'(t))=\dfrac{\diff z}{\gamma(t)}(2\pi i\gamma(t))=\dfrac{2\pi i \gamma(t)}{\gamma(t)}=2\pi i$. Perciò $\displaystyle \int_{\gamma} \omega=\int_0^1 2\pi i \diff t=2\pi i$.
  In coordinate (cioè usando $\diff x$ e $\diff y$), $\dfrac{\diff z}{z}=\dfrac{1}{x+iy}(\diff x+i\diff y)=\dfrac{x-iy}{x^2+y^2}(\diff x+i\diff y)=\dfrac{x-iy}{x^2+y^2}\diff x+\dfrac{ix+y}{x^2+y^2}\diff y=$($P(x, y) \diff x+Q(x, y)\diff y=P(z) \diff x+Q(z)\diff y$)$=\dfrac{x\diff x+y\diff y}{x^2+y^2}+i\dfrac{x\diff y-y \diff x}{x^2+y^2}$.
  $\gamma(t)=\cos{2\pi t}+i\sin{2\pi t}=x(t)+iy(t)$ con $x(t)=\cos{2\pi t}, y(t)=\sin{2\pi t}$. Perciò $\diff x(\gamma'(t))=x'(t)=-2\pi\sin{2\pi t}, \diff y(\gamma'(t))=y'(t)=2\pi\cos{2\pi t}$.
  $(x\diff x+y\diff y)_{\gamma(t)}(\gamma'(t))=\cos{2\pi t}(-2\pi\sin{2\pi t})+\sin{2\pi t}(2\pi\cos{2\pi t})=0$. \\
  $\left(i\dfrac{x\diff y-y\diff x}{x^2+y^2}\right)_{\gamma(t)}(\gamma'(t))=i\dfrac{\cos{2\pi t}\cdot2\pi\cos{2\pi t}-\sin{2\pi t}(-2\pi\sin{2\pi t})}{\cos^2{2\pi t}+\sin^2{2\pi t}}=2\pi i$.
  Abbiamo ritrovato che $\displaystyle \int_{\gamma} \dfrac{\diff z}{z}=\int_{\gamma} \dfrac{x\diff x+y\diff y}{x^2+y^2}+i\int_{\gamma} \dfrac{x\diff y-y\diff x}{x^2+y^2}=0+\int_0^1 2\pi i=0+2\pi i$, come sopra.
\end{ex}

\begin{ftt}
  Un fatto utile appena visto è che $\diff z=\id$, perciò $\diff z(a)=a$ per ogni $a \in \mathbb{C}$. Analogamente, $\diff \bar{z}(a)=\bar{a}$ per ogni $a \in \mathbb{C}$.
\end{ftt}

\begin{prop} \label{prop_int}
  Proprietà elementari dell'integrale curvilineo:
  \begin{nlist}
    \item sia $\gamma:[a, b] \longrightarrow D$, se $\psi:[c, d] \longrightarrow [a, b]$ è $C^1$ con $\psi(c)=a, \psi(d)=b$, allora $\displaystyle \int_{\gamma} \omega=\int_{\gamma \circ \psi} \omega$ (cioè $\displaystyle \int_{\gamma} \omega$ è indipendente da riparametrizzazioni che preservino il verso di percorrenza);
    \item $\gamma:[a, b] \longrightarrow D, \psi:[c, d] \longrightarrow [a, b]$ con $\psi(c)=b, \psi(d)=a$, allora $\displaystyle \int_{\gamma \circ \psi} \omega=-\int_{\gamma} \omega$;
    \item se $\gamma=\gamma_1*\gamma_2$ (giunzione $C^1$), allora $\displaystyle \int_{\gamma} \omega=\int_{\gamma_1} \omega+\int_{\gamma_2} \omega$.
  \end{nlist}
\end{prop}

\begin{proof}
  \begin{nlist}
    \item $\displaystyle \int_{\gamma \circ \psi} \omega=\int_c^d \omega_{\gamma(\psi(t))}((\gamma \circ \psi)'(t))\diff t=\int_c^d \omega_{\gamma(\psi(t))} (\gamma'(\psi(t))\psi'(t))\diff t$.
    Questo, per $\mathbb{R}$-linearità di $\omega_{\gamma(\psi(t))}$, è uguale a $\displaystyle \int_c^d \omega_{\gamma(\psi(t))}(\gamma'(\psi(t)))\cdot\psi'(t)\diff t$ che a sua volta, per il teorema di cambio di variabile, è uguale a $\displaystyle \int_{\psi(c)}^{\psi(d)} w_{\gamma(s)}(\gamma'(s))\diff s=\int_a^b \omega_{\gamma(t)}(\gamma'(t))\diff t=\int_{\gamma} \omega$.
    \item La dimostrazione è analoga a quella del punto (i).
    \item Segue dal punto (i) più alcuni passaggi ovvi lasciati per esercizio.
  \end{nlist}
\end{proof}

\begin{defn}
  Se $\gamma:[a, b] \longrightarrow D$ è \text{$C^1$ a tratti} (cioè continua e t.c. esistono $0=t_0<t_1<\dots<t_n=b$ t.c. $\gamma\restrict{[t_i, t_{i+1}]}$ sia $C^1$ per ogni $i=0, 1, \dots, n-1$), allora poniamo $\displaystyle \int_{\gamma} \omega=\sum_{i=0}^{n-1} \int_{\gamma\restrict{[t_i, t_{i+1}]}} \omega$.
  La definizione appena data non dipende dalla partizione scelta per le proprietà viste nella proposizione \ref{prop_int}.
\end{defn}

\begin{lm} \label{DcpaC^1}
  Sia $D \subseteq \mathbb{C}$ aperto connesso. Allora $D$ è connesso per archi $C^1$ (in particolare, anche per archi $C^1$ a tratti).
\end{lm}

\begin{proof}
  La dimostrazione è quasi identica a localmente connesso per archi+connesso $\implies$ connesso per archi. Basta osservare che ogni punto di $D$ ha un intorno connesso per archi $C^1$ (una piccola palla), scegliamo $x_0 \in D$ e mostriamo che l'insieme dei punti di $D$ connessi a $x_0$ da un arco $C^1$ a tratti è aperto e chiuso. I dettagli sono lasciati al lettore.
\end{proof}

\begin{lm}
  Sia $\omega$ una $1$-forma differenziale esatta su $D$, $\omega=\diff F$. Allora per ogni $\gamma:[a, b] \longrightarrow D$ $C^1$ a tratti vale $\displaystyle \int_{\gamma} \omega=F(\gamma(b))-F(\gamma(a))$.
\end{lm}

\begin{proof}
  Sia $a=t_0<t_1<\dots<t_n=b$ una partizione t.c. $\gamma\restrict{[t_i, t_{i+1}]}$ sia $C^1$ per ogni $i=0, 1, \dots, n-1$. Se mostriamo che $\displaystyle \int_{\gamma\restrict{[t_i, t_{i+1}]}} \omega=F(\gamma(t_{i+1}))-F(\gamma(t_i))$ abbiamo finito per definizione di $\displaystyle \int_{\gamma} \omega$.
  Ma $\displaystyle \int_{\gamma\restrict{[t_i, t_{i+1}]}} \omega=\int_{\gamma\restrict{[t_i, t_{i+1}]}} \diff F=\int_{t_i}^{t_{i+1}} \diff F_{\gamma(t)}(\gamma'(t))\diff t=\int_{t_i}^{t_{i+1}} (F \circ \gamma)'(t)\diff t=F(\gamma(t_{i+1}))-F(\gamma(t_i))$.
\end{proof}

\begin{cor}
  Sia $D \subseteq \mathbb{C}$ un aperto connesso, se $F:D \longrightarrow \mathbb{C}$ è t.c. $\diff F=0$, allora $F$ è costante.
\end{cor}

\begin{proof}
  Per il lemma \ref{DcpaC^1}, per ogni $a, b \in D$ esiste $\gamma$ $C^1$ a tratti che connette $a$ e $b$ $\implies$ $\displaystyle F(b)-F(a)=\int_{\gamma} \diff F=0$ $\implies$ $F(a)=F(b)$ per ogni $a, b \in D$.
\end{proof}

\begin{cor}
  Sia $D \subseteq \mathbb{C}$ un aperto connesso. Se $F$ è una primitiva di $\omega$, tutte e sole le primitive di $\omega$ si ottengono sommando una costante a $F$.
\end{cor}

\begin{proof}
  Se $G$ è un'altra primitiva di $\omega$, $\diff G=\diff F \implies \diff(G-F)=0 \implies G-F=c$, $c$ costante $\implies$ $G=F+c$. Il viceversa è ovvio: $\diff(F+c)=\diff F=\omega$.
\end{proof}

\begin{thm} \label{int=0no1}
  Sia $D \subseteq \mathbb{C}$ un aperto connesso, $\omega$ una $1$-forma su $D$. Allora $\omega$ è esatta $\iff$ $\displaystyle \int_{\gamma} \omega=0$ per ogni loop $\gamma$ $C^1$ a tratti.
\end{thm}

\begin{proof}
  ($\implies$) Se $\gamma:[a, b] \longrightarrow D$ è un loop e $\omega=\diff F$, abbiamo visto che $\displaystyle \int_{\gamma} \omega=F(\gamma(b))-F(\gamma(a))=0$ poiché $\gamma(b)=\gamma(a)$.

  ($\Leftarrow$) Costruiamo una primitiva di $\omega$ come segue. Fissato $x_0 \in D$, per ogni $p \in D$ scegliamo un cammino $\gamma_p:[0, 1] \longrightarrow D$ $C^1$ a tratti con $\gamma_p(0)=x_0, \gamma_p(1)=p$ e poniamo $\displaystyle F(p)=\int_{\gamma_p} \omega$. $F$ è ben definita (cioè non dipende dalla scelta di $\gamma_p$).
  Ciò segue dalle proprietà viste nella proposizione \ref{prop_int}: sia $\alpha_p$ un altro cammino da $x_0$ a $p$, allora $\gamma_p*\bar{\alpha}_p$ è un loop, per cui per ipotesi $\displaystyle 0=\int_{\gamma_p*\bar{\alpha}} \omega=\int_{\gamma_p} \omega+\int_{\bar{\alpha}_p} \omega=\int_{\gamma_p} \omega-\int_{\alpha_p} \omega \implies \int_{\gamma_p} \omega=\int_{\alpha_p} \omega$.
  Dobbiamo vedere che $F$ è differenziabile e $\diff F=\omega$. Se $\omega=P\diff x+Q\diff y$, basta vedere che $\dfrac{\partial F}{\partial x}=P, \dfrac{\partial F}{\partial y}=Q$ (perché $P, Q$ sono continue per ipotesi, dunque, per il teorema del differnziale totale, $F$ ammette derivate parziali continue e sarebbe differnziabile con $\diff F=\dfrac{\partial F}{\partial x}\diff x+\dfrac{\partial F}{\partial y}\diff y=\omega$).
  Mostriamo che $\dfrac{\partial F}{\partial x}=P$ (l'altra dimostrazione è analoga). Se vogliamo calcolare la derivata parziale lungo $x$, poniamo $h$ un numero reale, allora dobbiamo valutare la funzione in un punto $p$ e in $p+h$ e calcolare il limite del rapporto incrementale. Sia dunque $\gamma_h:[0, h] \longrightarrow D, \gamma_h(t)=p+t$.
  Allora $\displaystyle F(p)=\int_{\gamma_p} \omega, F(p+h)=\int_{\gamma_p*\gamma_h} \omega \implies F(p+h)-F(p)=\int_{\gamma_p*\gamma_h}-\int_{\gamma_p} \omega=\int_{\gamma_p} \omega+\int_{\gamma_h} \omega-\int_{\gamma_p} \omega=\int_{\gamma_h} \omega$.
  Notiamo che $\omega_{\gamma_h(t)}(\gamma_h'(t))=\omega_{\gamma_h(t)}(1)=P(\gamma_h(t))\diff x(1)+Q(\gamma_h(t)) \diff y(1)=P(\gamma_h(t))=P(p+t)$.
  Dunque $\displaystyle F(p+h)-F(p)=\int_{\gamma_h} \omega=\int_0^h P(p+t)\diff t$ e $\displaystyle \frac{F(p+h)-F(h)}{h}=\frac{1}{h}\int_0^h P(p+t)\diff t=P(p+\xi_h)$ con $0 \le \xi_h \le h$ per il teorema della media integrale (in realtà, andrebbe applicato separatamente a parte reale e parte immaginaria, ma non cambiano le conclusioni).
  Passando al limite per $h \longrightarrow 0$ e usando la continuità di $P$ otteniamo $\displaystyle \frac{\partial F}{\partial x}(p)=\lim_{h \longrightarrow 0} \frac{F(p+h)-F(p)}{h}=\lim_{h \longrightarrow 0} P(p+\xi_h)=P(p)$.
\end{proof}

\begin{cor}
  Su $\mathbb{C}*$ la forma $\dfrac{\diff z}{z}$ è chiusa ma non esatta.
\end{cor}

\begin{proof}
  Per ogni $z_0 \in \mathbb{C}*$ esiste un aperto $U$ con $z_0 \in U \subseteq \mathbb{C}*$ su cui è definita una branca $F$ di $\log$ e $\diff F=F'\diff z=\dfrac{1}{z}\diff z$ su $U$, per cui $\dfrac{\diff z}{z}$ è chiusa.
  Però, se $\gamma:[0,1] \longrightarrow \mathbb{C}*, \gamma(t)=e^{2\pi it}$, $\displaystyle \int_{\gamma} \frac{\diff z}{z}\not=0$ $\implies$ $\dfrac{\diff z}{z}$ non è esatta.
\end{proof}

\begin{cor}
  Non esiste un "logaritmo" definito su tutto $\mathbb{C}*$.
\end{cor}

\begin{proof}
  Altrimenti, $\dfrac{\diff z}{z}$ sarebbe esatta su $\mathbb{C}*$.
\end{proof}

Adesso integriamo sui rettangoli. Un rettangolo $R \subseteq \mathbb{C}$ è caratterizzato da quattro vertici della forma $a_1+ib_1, a_1+ib_2, a_2+ib_2, a_2+ib_1$. Siano $\gamma_1(t)=a_1+t(a_2-a_1)+ib_1, \gamma_2(t)=a_2+i(b_1+t(b_2-b_1)), \gamma_3(t)=a_2+t(a_1-a_2)+ib_2, \gamma_4(t)=a_1+i(b_2+t(b_1-b_2))$.
Possiamo parametrizzare il bordo del rettangolo con il cammino $\gamma=\gamma_1*\gamma_2*\gamma_3*\gamma_4$. D'ora in poi indicheremo con $\displaystyle \int_{\partial R} \omega$ l'integrale $\displaystyle \int_{\gamma} \omega$ per  ogni $1$-forma $\omega$. Se $\omega=P\diff x+Q\diff y$,
$$\int_{\partial R} \omega=\int_{a_1}^{a_2}P(t, b_1)\diff t+\int_{b_1}^{b_2}Q(a_2, t)\diff t-\int_{a_1}^{a_2}P(t, b_2)\diff t-\int_{b_1}^{b_2}Q(a_1, t)\diff t.$$

\begin{prop} \label{int=0no2}
  Sia $D=B(z_0, R)$ un disco aperto, $\omega$ una $1$-forma su $D$. Allora $\omega$ è esatta $\iff$ $\displaystyle \int_{\partial R} \omega=0$ per ogni rettangolo $R \subseteq D$.
\end{prop}

\begin{proof}
  ($\implies$) Segue dal teorema \ref{int=0no1}, poiché $\partial R$ è un cammino chiuso $C^1$ a tratti.

  ($\Leftarrow$) Costruiamo una primitiva integrando $\omega$ lungo cammini differenziabikli a tratti fatti da un tratto orizzontale seguito da un tratto verticale. Per ogni $z \in D$, sia $\gamma_z$ un tale cammino (esiste perché $D$ è un disco). Poniamo $\displaystyle F(z)=\int_{\gamma(z)} \omega$. Poiché $\gamma_z$ è univocamente determinato da $z$ (a meno di riparametrizzazioni), $F$ è ben definita. Dobbiamo mostrare che, se $\omega=P\diff x+Q\diff $, allora $\dfrac{\partial F}{\partial x}=P, \dfrac{\partial F}{\partial y}=Q$.
  $\displaystyle F(z+ih)-F(z)=\int_{\gamma_{z+ih}} \omega-\int_{\gamma_z} \omega=\int_{\gamma_h'} \omega=\int_0^h Q(z+it) \diff t$ che, diviso per $h$, ragionando come nella dimostrazione del teorema \ref{int=0no1} tende a $Q(z)$ per $h \longrightarrow 0$. Sia $\alpha_z$ il cammino che va da $z_0$ a $z$ prima in orizzontale poi in verticale.
  Allora $\gamma_z * \bar{\alpha}_z$ è il bordo di un rettangolo $R$, dunque per ipotesi $\displaystyle 0=\int_{\partial R} \omega=\int_{\gamma_z*\bar{\alpha_z}} \omega=\int_{\gamma_z}\omega-\int_{\alpha_z} \omega \implies F(z)=\int_{\gamma_z}\omega=\int_{\alpha_z}\omega$.
  A questo punto, la dimostrazione che $\dfrac{\partial F}{\partial x}=P$ è analoga a quella per $\dfrac{\partial F}{\partial y}=Q$, con gli $\alpha_z$ al posto dei $\gamma_z$.
\end{proof}

\begin{cor}
  Sia $D \subseteq \mathbb{C}$ un aperto qualsiasi, $\omega$ una $1$-forma su $D$. Se $\displaystyle \int_{\partial R} \omega=0$ per ogni $R \subseteq D$ rettangolo, allora $\omega$ è chiusa.
\end{cor}

\begin{proof}
  Dato $z_0 \in D$, sia $z_0 \in U \subseteq D$ una palla aperta centrata in $z_0$. Allora si applica la proposizione \ref{int=0no2} a $U$.
\end{proof}

Vogliamo adesso definire gli integrali lungo curve continue (non necessariamente $C^1$ a tratti).

\begin{defn} \label{prim_gamma}
  Sia $\omega$ una $1$-forma chiusa su un aperto $D \subseteq \mathbb{C}$. Se $\gamma:[0, 1] \longrightarrow D$ è una curva continua, allora una \textsc{primitiva di $\omega$ lungo $\gamma$} è una funzione continua $f:[0, 1] \longrightarrow \mathbb{C}$ t.c. per ogni $t_0 \in [0, 1]$ esiste $\epsilon>0$ e un intorno $U$ di $\gamma(t_0)$ t.c.
  $f(t)=F(\gamma(t))$ per ogni $t \in (t_0-\epsilon, t_0+\epsilon)$, dove $F:U \longrightarrow \mathbb{C}$ è una primitiva locale di $\omega$.
\end{defn}

\begin{prop}
  Nelle ipotesi della definizione \ref{prim_gamma}, una primitiva lungo $\gamma$ esiste, e due primitive lungo $\gamma$ differiscono per una costante.
\end{prop}

\begin{proof}
  Per compattezza di $[0, 1]$, possiamo prendere una suddivisione $0=t_0<t_1<\dots<t_n=1$ di $[0, 1]$ t.c. per ogni $i=0,\dots, n-1$ $\gamma([t_i, t_{i+1}]) \subseteq U_i$ dove $U_i$ è una palla in $D$ su cui $\omega$ ammette una primitiva.
  Per $t \in [t_0, t_1]$,scegliamo una primitiva $F_0:U_0 \longrightarrow \mathbb{C}$ e poniamo $f(t)=F_0(\gamma(t))$. Scegliamo poi una primitiva $F_1:U_1 \longrightarrow \mathbb{C}$ t.c. $F_1(\gamma(t_1))=F_0(\gamma(t_1))$. Poniamo ora $f(t)=F_1(\gamma(t))$ per ogni $t \in [t_1, t_2]$ e continuiamo per induzione. Per costruzione $f$ è continua (continua su un ricoprimento chiuso che si raccorda sui punti di intersezione) ed è una primitiva lungo $\gamma$.
  Siano $f_1, f_2:[0, 1] \longrightarrow \mathbb{C}$ due primitive lungo $\gamma$ di $\omega$.Allora per ogni $t_0 \in [0, 1]$ esistono $\epsilon>0$, $U$ intorno connesso di $\gamma(t_0)$ t.c. $f_1(t)=F(\gamma(t)), f_2(t)=G(\gamma(t))$ per ogni $ t \in (t_0-\epsilon, t_0+\epsilon)$ dove $F, G:U \longrightarrow \mathbb{C}$ sono primitive locali di $\omega$.
  Poiché $F-G$ è costante, $f_1-f_2$ è costante su $(t_0-\epsilon, t_0+\epsilon)$. Dunque $f_1-f_2$ è localmente costante ed è perciò costante per connessione di $[0, 1]$.
\end{proof}
